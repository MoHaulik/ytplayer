<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minimal YouTube Fullscreen Player</title>
  <style>
    /* Minimal styling */
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 2rem;
      background: #f4f4f4;
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: auto;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    p {
      margin-bottom: 1rem;
    }
    input[type="text"] {
      width: 100%;
      padding: 0.5rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      margin-top: 1rem;
      border: none;
      background: #333;
      color: #fff;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      background: #555;
    }
    .player {
      margin-top: 2rem;
      position: relative;
      padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
      height: 0;
    }
    .player iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Minimal YouTube Fullscreen Player</h1>
    <p>Paste a YouTube video URL below to play it in fullscreen. Click in the middle of the video to pause/play.</p>
    <input type="text" id="videoUrl" placeholder="Enter YouTube video URL">
    <button onclick="loadVideo()">Play Video</button>
    <div id="videoContainer" class="player"></div>
  </div>
  
  <!-- Load the YouTube IFrame API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    var player;

    // Extract the video ID from common YouTube URL formats.
    function extractVideoID(url) {
      var regex = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
      var match = url.match(regex);
      return (match && match[1]) ? match[1] : null;
    }

    // Load the video â€“ create or update the YouTube player.
    function loadVideo() {
      var url = document.getElementById('videoUrl').value;
      var videoID = extractVideoID(url);
      if (!videoID) {
        alert('Invalid YouTube URL. Please try again.');
        return;
      }
      if (player) {
        player.loadVideoById(videoID);
      } else {
        player = new YT.Player('videoContainer', {
          videoId: videoID,
          playerVars: {
            rel: 0,
            modestbranding: 1,
            controls: 0,
            iv_load_policy: 3,
            autoplay: 1
          },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }
    }

    // When the player is ready, request fullscreen and add a click overlay.
    function onPlayerReady(event) {
      requestFullScreen();
      createOverlay();
    }

    // Ensure fullscreen is requested when the video is playing.
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.PLAYING) {
        requestFullScreen();
      }
    }

    // Request fullscreen mode on the video container.
    function requestFullScreen() {
      var container = document.getElementById('videoContainer');
      if (container.requestFullscreen) {
        container.requestFullscreen();
      } else if (container.webkitRequestFullscreen) { /* Safari */
        container.webkitRequestFullscreen();
      } else if (container.msRequestFullscreen) { /* IE11 */
        container.msRequestFullscreen();
      }
    }

    // Create an overlay to capture clicks for pausing/playing.
    function createOverlay() {
      if (document.getElementById('clickOverlay')) return; // Avoid duplicate overlays.

      var container = document.getElementById('videoContainer');
      var overlay = document.createElement('div');
      overlay.id = 'clickOverlay';
      overlay.style.position = 'absolute';
      overlay.style.top = '0';
      overlay.style.left = '0';
      overlay.style.width = '100%';
      overlay.style.height = '100%';
      overlay.style.backgroundColor = 'transparent';
      overlay.style.cursor = 'pointer';
      overlay.style.zIndex = '100';
      overlay.addEventListener('click', function() {
        var state = player.getPlayerState();
        // If playing, pause; if paused or ended, play.
        if (state === YT.PlayerState.PLAYING) {
          player.pauseVideo();
        } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.ENDED) {
          player.playVideo();
        }
      });
      container.appendChild(overlay);
    }
  </script>
</body>
</html>
