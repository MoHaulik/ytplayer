<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Minimalist Player</title>
  <style>
    /* Reset some defaults */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
      overflow: hidden;
    }
    body {
      font-family: sans-serif;
      background: #fff;
      color: #333;
    }
    /* Centered input container for entering the URL */
    #inputContainer {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
    #videoUrl {
      width: 300px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ddd;
      border-radius: 4px;
      outline: none;
      transition: border 0.2s ease;
    }
    #videoUrl:focus {
      border-color: #aaa;
    }
    #playButton {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 16px;
      background: #000;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    #playButton:hover {
      background: #333;
    }
    /* Video container covers full screen */
    #videoContainer {
      position: relative;
      width: 100%;
      height: 100%;
      display: none; /* hidden until video loads */
    }
    #videoContainer iframe {
      width: 100%;
      height: 100%;
    }
    /* Full overlay for pause/play and skip controls */
    #clickOverlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: auto;
    }
    /* Skip buttons styling */
    .skip-button {
      position: absolute;
      top: 50%;
      width: 50px;
      height: 50px;
      margin-top: -25px;
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      cursor: pointer;
      z-index: 101;
      user-select: none;
    }
    .skip-button.left {
      left: 20px;
    }
    .skip-button.right {
      right: 20px;
    }
  </style>
</head>
<body>
  <!-- Input container (no extra text) -->
  <div id="inputContainer">
    <input type="text" id="videoUrl" placeholder="Paste YouTube URL">
    <br>
    <button id="playButton" onclick="loadVideo()">Play</button>
  </div>
  
  <!-- Video container -->
  <div id="videoContainer"></div>
  
  <!-- Load the YouTube IFrame API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    var player;

    // Extract the video ID from common YouTube URL formats.
    function extractVideoID(url) {
      var regex = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
      var match = url.match(regex);
      return (match && match[1]) ? match[1] : null;
    }

    // Called when the user clicks the play button.
    function loadVideo() {
      var url = document.getElementById('videoUrl').value;
      var videoID = extractVideoID(url);
      if (!videoID) {
        alert('Invalid YouTube URL.');
        return;
      }
      // Hide the input UI and show the video container.
      document.getElementById('inputContainer').style.display = 'none';
      document.getElementById('videoContainer').style.display = 'block';

      if (player) {
        player.loadVideoById(videoID);
      } else {
        player = new YT.Player('videoContainer', {
          videoId: videoID,
          playerVars: {
            rel: 0,
            modestbranding: 1,
            controls: 0,
            iv_load_policy: 3,
            autoplay: 1
          },
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }
    }

    // When the player is ready, request full screen and add overlay controls.
    function onPlayerReady(event) {
      requestFullScreen();
      createOverlay();
    }

    // When state changes, if playing, request full screen.
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.PLAYING) {
        requestFullScreen();
      }
    }

    // Request full screen on the video container.
    function requestFullScreen() {
      var container = document.getElementById('videoContainer');
      if (container.requestFullscreen) {
        container.requestFullscreen();
      } else if (container.webkitRequestFullscreen) { /* Safari */
        container.webkitRequestFullscreen();
      } else if (container.msRequestFullscreen) { /* IE11 */
        container.msRequestFullscreen();
      }
    }

    // Create overlay for click-to-pause/play and skip controls.
    function createOverlay() {
      if (document.getElementById('clickOverlay')) return; // Prevent duplicates.

      var container = document.getElementById('videoContainer');
      var overlay = document.createElement('div');
      overlay.id = 'clickOverlay';

      // Toggle pause/play when clicking anywhere on the overlay.
      overlay.addEventListener('click', function() {
        var state = player.getPlayerState();
        if (state === YT.PlayerState.PLAYING) {
          player.pauseVideo();
        } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.ENDED) {
          player.playVideo();
        }
      });

      // Skip backward button.
      var leftButton = document.createElement('div');
      leftButton.className = 'skip-button left';
      leftButton.innerHTML = '«';
      leftButton.addEventListener('click', function(e) {
        e.stopPropagation();
        var currentTime = player.getCurrentTime();
        player.seekTo(Math.max(0, currentTime - 10), true);
      });

      // Skip forward button.
      var rightButton = document.createElement('div');
      rightButton.className = 'skip-button right';
      rightButton.innerHTML = '»';
      rightButton.addEventListener('click', function(e) {
        e.stopPropagation();
        var currentTime = player.getCurrentTime();
        player.seekTo(currentTime + 10, true);
      });

      overlay.appendChild(leftButton);
      overlay.appendChild(rightButton);
      container.appendChild(overlay);
    }

    // Keyboard shortcuts for skipping and play/pause.
    document.addEventListener('keydown', function(e) {
      if (!player) return;
      if (e.key === 'ArrowLeft') {
        var currentTime = player.getCurrentTime();
        player.seekTo(Math.max(0, currentTime - 10), true);
      } else if (e.key === 'ArrowRight') {
        var currentTime = player.getCurrentTime();
        player.seekTo(currentTime + 10, true);
      } else if (e.key === ' ' || e.key === 'Spacebar') {
        e.preventDefault(); // Prevent scrolling.
        var state = player.getPlayerState();
        if (state === YT.PlayerState.PLAYING) {
          player.pauseVideo();
        } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.ENDED) {
          player.playVideo();
        }
      }
    });
  </script>
</body>
</html>
